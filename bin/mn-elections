#!/usr/bin/env node

/**
 * Main command line app.
 */


// Dependencies
require('dotenv').load();
const path = require('path');
const Election = require('../lib/election.js');

//const resultsFetch = require('../lib/results-fetch.js');
//const metaFetch = require('../lib/meta-fetch.js');
//const setupSupplement = require('../lib/setup-supplement.js');
const elections = require('../elections.json');

let set = '20160809';
elections[set].id = set;

let options = {
  exportPath: path.join(__dirname, '..', 'export', set)
};


let e = new Election(elections[set], options);
e.fetchResults().catch((e) => { throw e; });

// try {
//   metaFetch(elections[set], options);
// }
// catch (e) {
//   console.error(e);
//   process.exit(1);
// }

// try {
//   resultsFetch(elections[set], options);
// }
// catch (e) {
//   console.error(e);
//   process.exit(1);
// }

// try {
//   setupSupplement(elections[set], options);
// }
// catch (e) {
//   console.error(e);
//   process.exit(1);
// }
